<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HYKB Update、Activation、Gift feature SDK - Usage Documents | 陈宝阳个人主页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.cd3a2423.css" as="style"><link rel="preload" href="/assets/js/app.382c28ba.js" as="script"><link rel="preload" href="/assets/js/2.5c9681e2.js" as="script"><link rel="preload" href="/assets/js/28.2a22a3a9.js" as="script"><link rel="prefetch" href="/assets/js/10.acf6ba07.js"><link rel="prefetch" href="/assets/js/11.63661c93.js"><link rel="prefetch" href="/assets/js/12.e21e987b.js"><link rel="prefetch" href="/assets/js/13.e063d24c.js"><link rel="prefetch" href="/assets/js/14.c28c7e45.js"><link rel="prefetch" href="/assets/js/15.1db21efc.js"><link rel="prefetch" href="/assets/js/16.07fb3cf0.js"><link rel="prefetch" href="/assets/js/17.5c6d76b7.js"><link rel="prefetch" href="/assets/js/18.c14d91dc.js"><link rel="prefetch" href="/assets/js/19.359ac023.js"><link rel="prefetch" href="/assets/js/20.8021cb2e.js"><link rel="prefetch" href="/assets/js/21.686671f2.js"><link rel="prefetch" href="/assets/js/22.4354d917.js"><link rel="prefetch" href="/assets/js/23.4188acc7.js"><link rel="prefetch" href="/assets/js/24.9e29e9a7.js"><link rel="prefetch" href="/assets/js/25.8e1a52b8.js"><link rel="prefetch" href="/assets/js/26.3b6d1999.js"><link rel="prefetch" href="/assets/js/27.94eacba0.js"><link rel="prefetch" href="/assets/js/3.3c88b1aa.js"><link rel="prefetch" href="/assets/js/4.c1f5af53.js"><link rel="prefetch" href="/assets/js/5.2cc9ec1c.js"><link rel="prefetch" href="/assets/js/6.a733f0d4.js"><link rel="prefetch" href="/assets/js/7.502ba01d.js"><link rel="prefetch" href="/assets/js/8.436cdf0e.js"><link rel="prefetch" href="/assets/js/9.dc98d980.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd3a2423.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">陈宝阳个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/archives/" class="nav-link">
  云存档
</a></div><div class="nav-item"><a href="/anti/" class="nav-link">
  防沉迷
</a></div><div class="nav-item"><a href="/update/" class="nav-link router-link-active">
  强更
</a></div><div class="nav-item"><a href="/paid/" class="nav-link">
  付费下载
</a></div><div class="nav-item"><a href="/pay/" class="nav-link">
  内购
</a></div><div class="nav-item"><a href="/review/" class="nav-link">
  送审
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/archives/" class="nav-link">
  云存档
</a></div><div class="nav-item"><a href="/anti/" class="nav-link">
  防沉迷
</a></div><div class="nav-item"><a href="/update/" class="nav-link router-link-active">
  强更
</a></div><div class="nav-item"><a href="/paid/" class="nav-link">
  付费下载
</a></div><div class="nav-item"><a href="/pay/" class="nav-link">
  内购
</a></div><div class="nav-item"><a href="/review/" class="nav-link">
  送审
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HYKB Update、Activation、Gift feature SDK - Usage Documents</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/update/update_en.html#_1-import-sdk" class="sidebar-link">1. Import SDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/update/update_en.html#_1-1-android-studio-integration" class="sidebar-link">1.1 Android Studio Integration</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_1-2-proguard" class="sidebar-link">1.2 Proguard</a></li></ul></li><li><a href="/update/update_en.html#_2-development" class="sidebar-link">2. Development</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-1-sdk-initialization" class="sidebar-link">2.1 SDK Initialization</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-2-activation-with-ui" class="sidebar-link">2.2 Activation(With UI)</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-3-activation-without-ui" class="sidebar-link">2.3 Activation(Without UI)</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-4-gift-with-ui" class="sidebar-link">2.4 Gift(with UI)</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-5-gift-without-ui" class="sidebar-link">2.5 Gift(Without UI)</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-6-open-game-bbs" class="sidebar-link">2.6 Open game bbs</a></li><li class="sidebar-sub-header"><a href="/update/update_en.html#_2-7-description-code" class="sidebar-link">2.7 Description code：</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hykb-update、activation、gift-feature-sdk-usage-documents"><a href="#hykb-update、activation、gift-feature-sdk-usage-documents" class="header-anchor">#</a> HYKB Update、Activation、Gift feature SDK - Usage Documents</h1> <center><table><thead><tr><th style="text-align:center;">version</th> <th style="text-align:left;">change log</th> <th style="text-align:center;">date</th></tr></thead> <tbody><tr><td style="text-align:center;">V1.0.8.0</td> <td style="text-align:left;">1.Add open Hykb App page feature</td> <td style="text-align:center;">2022-05-19</td></tr></tbody></table></center> <h2 id="_1-import-sdk"><a href="#_1-import-sdk" class="header-anchor">#</a> 1. Import SDK</h2> <h3 id="_1-1-android-studio-integration"><a href="#_1-1-android-studio-integration" class="header-anchor">#</a> 1.1 Android Studio Integration</h3> <ol><li>Download <code>SDK</code> first, then copy <code>common_1.0.1.6_0519.aar</code>、<code>check_1.0.0.0_0519.aar</code>、<code>auxs_1.0.8.0_0519.aar</code> into your main module/libs.</li> <li>Edit your main module <code>build.gradle</code> file，add the following code:</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>repositories {
   flatDir {
      dirs 'libs'
   }
}

dependencies {
    implementation(name: 'common_1.0.1.6_0519', ext: 'aar')
    implementation(name: 'check_1.0.0.0_0519', ext: 'aar')
    implementation(name: 'auxs_1.0.8.0_0519', ext: 'aar')
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>then sync gradle.</p> <h3 id="_1-2-proguard"><a href="#_1-2-proguard" class="header-anchor">#</a> 1.2 Proguard</h3> <p>If you are using Proguard, add the following rules to your ProGuard configuration file:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>-keep class com.m3839.sdk.auxs.** {*;}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-development"><a href="#_2-development" class="header-anchor">#</a> 2. Development</h2> <p>Note：Currently, the SDK supports two types of access: activation code and gift package code. They are <code>complete UI function operation</code> and <code>only verification interface (no UI)</code>
Main API: <code>com.m3839.sdk.auxs.HykbAuxSDK</code></p> <h3 id="_2-1-sdk-initialization"><a href="#_2-1-sdk-initialization" class="header-anchor">#</a> 2.1 SDK Initialization</h3> <p>Description：
Detection method of SDK (including update detection)</p> <p>Api:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HykbAuxSDK.init(Activity activity, String gameId, int orientation, HykbAuxInitListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Decription</th></tr></thead> <tbody><tr><td style="text-align:center;">activity</td> <td style="text-align:center;">Current Activity</td></tr> <tr><td style="text-align:center;">gameId</td> <td style="text-align:center;">The game ID obtained after the game is created by the front desk of the fast explosive developer</td></tr> <tr><td style="text-align:center;">orientation</td> <td style="text-align:center;">Game Screen orientation</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxInitListener：Initialization Callback</td></tr></tbody></table> <p>Sample:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>String gameId = &quot;game ID&quot;;
int orientation = ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE;
HykbAuxSDK.init(this, gameId, orientation, new HykbAuxInitListener() {
            @Override
            public void onInitFinish(int code, String msg) {
                if(code == 10000) {
                    showToast(msg);
                    setIniTFlag();
                }else if(code == 2001) {
                    //need exit game
                    finish();
                }else if(code == 2002) {
                    //close the dialog， call back to developer
                    showToast(msg);
                }

            }
        });
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>Class Description：</p> <p>Initialize listening class： <code>com.m3839.sdk.auxs.listener.HykbAuxInitListener</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">onInitFinish(int code, String msg)</td> <td style="text-align:center;">call back</td></tr></tbody></table> <h3 id="_2-2-activation-with-ui"><a href="#_2-2-activation-with-ui" class="header-anchor">#</a> 2.2 Activation(With UI)</h3> <p>Description：
Activation code function call of SDK（Using the SDK’s own UI）
Api one:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//Activation Api
HykbAuxSDK.checkActivationCode(String device, HykbAuxActivationListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">device</td> <td style="text-align:center;">Equipment number or specific unique identifier</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxActivationListener for callback</td></tr></tbody></table> <p>Sample:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>String device = &quot;Equipment number or specific unique identifier&quot;;
HykbAuxSDK.checkActivationCode(device, new HykbAuxActivationListener() {
   @Override
   public void onResult(int code, String msg) {
       if(code == 100) {
           //indicate activation succeeded
       }
       showToast(msg);
   }
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Class Description：
Listener Class： <code>com.m3839.sdk.auxs.listener.HykbAuxActivationListener</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">onResult(int code, String msg)</td> <td style="text-align:center;">When the code is 100, it indicates that the activation is successful</td></tr></tbody></table> <h3 id="_2-3-activation-without-ui"><a href="#_2-3-activation-without-ui" class="header-anchor">#</a> 2.3 Activation(Without UI)</h3> <p>Description：
Activation code function call of SDK (Without UI, developers can customize the UI)</p> <p>Api one:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//Check whether the current equipment code or unique ID has been activated
HykbAuxSDK.getActivationStatusByDevice(String device, HykbAuxActivationCheckListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">device</td> <td style="text-align:center;">Equipment number or specific unique identifier</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxActivationCheckListener for callback</td></tr></tbody></table> <p>Api two:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//get activation UI Infomation
HykbActivationUiInfo activationUiInfo = HykbAuxSDK.getActivationUiInfo()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Api three:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//activation 
HykbAuxSDK.checkActivationCode(String device, String code, HykbAuxActivationListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">device</td> <td style="text-align:center;">Equipment number or specific unique identifier</td></tr> <tr><td style="text-align:center;">code</td> <td style="text-align:center;">activation code</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxActivationListener for callback</td></tr></tbody></table> <p>Sample:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>String device = &quot;Equipment number or specific unique identifier&quot;;
HykbAuxSDK.getActivationStatusByDevice(device, new HykbAuxActivationCheckListener() {
            @Override
            public void onActivationCheck(boolean hasActivation) {
                if(hasActivation) {
                    //indicate already activated
                    showToast(&quot;already activated&quot;);
                }else{
                    //not activattion, show the activation dialog
                    CustomActivationUI activationUI = new CustomActivationUI();
                    HykbActivationUiInfo activationUiInfo = HykbAuxSDK.getActivationUiInfo()
                    activationUI.init(MainActivity.this, activationUiInfo, device);
                    activationUI.show();
                }
            }
        });
// CustomActivationUI Code：
public class CustomActivationUI {

    private AlertDialog activationDialog;

    public void init(Context context, HykbActivationUiInfo activationUiInfo, String device) {

        if(activationUiInfo == null) {
            showToast(context, &quot;activation feature is not open&quot;);
            return;
        }

        //create dialog view
        View customView = View.inflate(context,R.layout.dialog_custom_activation,null);
        //init widget
        final EditText codeEdit = customView.findViewById(R.id.hykb_edit_code);
        final TextView titleTv = customView.findViewById(R.id.hykb_tv_title);
        final TextView linkTv = customView.findViewById(R.id.hykb_tv_link);
        final TextView submitBtn = customView.findViewById(R.id.hykb_btn_submit);

        titleTv.setText(activationUiInfo.getActivationTitle());
        if(activationUiInfo.getActivationLinkStatus() == 1) {
            linkTv.setVisibility(View.VISIBLE);
            linkTv.setText(activationUiInfo.getActivationLinkTitle());
            linkTv.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    if(!TextUtils.isEmpty(activationUiInfo.getActivationKbLink())) {
                        try{
                            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(activationUiInfo.getActivationKbLink()));
                            context.startActivity(intent);
                        } catch (Exception e) {
                            openWeb(context, activationUiInfo);
                        }
                    }else {
                        openWeb(context, activationUiInfo);
                    }
                }
            });
        }else {
            linkTv.setVisibility(View.INVISIBLE);
        }

        submitBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String code = codeEdit.getText().toString();
                if(TextUtils.isEmpty(code)) {
                    showToast(context, &quot;activation must be not null&quot;);
                    return;
                }
                HykbAuxSDK.checkActivationCode(device, code, new HykbAuxActivationListener() {
                    @Override
                    public void onResult(int code, String msg) {
                        if(code == 100) {
                            //activated succeed
                            dismiss();
                        }
                        showToast(context, msg);
                    }
                });
            }
        });

        activationDialog = new AlertDialog.Builder(context)
                .setView(customView)
                .create();
        //AlertDialog set background
        activationDialog.getWindow().setBackgroundDrawableResource(R.drawable.bg_custom_gift);
    }

    private void openWeb(Context context,HykbActivationUiInfo activationUiInfo) {
        String url = HykbConstant.HYKB_STRING_DEFAULT_LINK;
        boolean condition = !TextUtils.isEmpty(activationUiInfo.getActivationLink())
                &amp;&amp; (activationUiInfo.getActivationLink().startsWith(&quot;http://&quot;)
                || activationUiInfo.getActivationLink().startsWith(&quot;https://&quot;));
        if(condition) {
            url = activationUiInfo.getActivationLink();
        }
        Intent intent = new Intent();
        intent.setAction(&quot;android.intent.action.VIEW&quot;);
        Uri uri = Uri.parse(url);
        intent.setData(uri);
        context.startActivity(intent);
    }

    public void show() {
        if(activationDialog != null) {
            activationDialog.show();
        }
    }

    public void dismiss() {
        if(activationDialog != null) {
            activationDialog.dismiss();
        }
    }

    protected void showToast(Context context, String text) {
        Toast.makeText(context.getApplicationContext(), text, Toast.LENGTH_SHORT).show();
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br></div></div><p>Entity class description：<code>com.m3839.sdk.auxs.data.HykbActivationUiInfo</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">getActivationTitle()</td> <td style="text-align:center;">Get activation code UI title</td></tr> <tr><td style="text-align:center;">getActivationLink()</td> <td style="text-align:center;">Get activation code UI jump link</td></tr> <tr><td style="text-align:center;">getActivationKbLink()</td> <td style="text-align:center;">Get activation code UI jump Hykb app link</td></tr> <tr><td style="text-align:center;">getActivationLinkTitle()</td> <td style="text-align:center;">Get activation code UI jump link Text</td></tr> <tr><td style="text-align:center;">getActivationLinkStatus()</td> <td style="text-align:center;">Get activation code UI jump link status，1:show，0:hide</td></tr></tbody></table> <p>Class Description：
Listener Class： <code>com.m3839.sdk.auxs.listener.HykbAuxActivationListener</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">onResult(int code, String msg)</td> <td style="text-align:center;">When the code is 100, it indicates that the activation is successful</td></tr></tbody></table> <p>Class Description：
Listener Class：<code>com.m3839.sdk.auxs.listener.HykbAuxActivationCheckListener</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">onActivationCheck(boolean hasActivation)</td> <td style="text-align:center;">When the hasActivation is true，it indicates that already activated，otherwise, need to activate.</td></tr></tbody></table> <h3 id="_2-4-gift-with-ui"><a href="#_2-4-gift-with-ui" class="header-anchor">#</a> 2.4 Gift(with UI)</h3> <p>Description：
SDK Gift code function call (Using the SDK’s own UI）</p> <p>Api:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HykbAuxSDK.checkGiftCode(String device, HykbAuxGiftListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">device</td> <td style="text-align:center;">Equipment number or specific unique identifier</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxGiftListener for call back</td></tr></tbody></table> <p>Sample:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>String device = &quot;Equipment number or specific unique identifier&quot;
HykbAuxSDK.checkGiftCode(device, new HykbAuxGiftListener() {
    @Override
    public void onResult(int code, String msg, String codeName) {
        if(code == 100) {
            //The gift bag code is successfully exchanged, and the game can distribute goods
        }
        showToast(msg);
    }
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Class Description：</p> <p>Listener Api Class： <code>com.m3839.sdk.auxs.listener.HykbAuxGiftListener</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">onResult(int code, String msg, String codeName)</td> <td style="text-align:center;">when call the method ,codeName will return gift name</td></tr></tbody></table> <ul><li>Close the UI interface of gift package code
HykbAuxSDK.closeGiftUI();
Note:<code>it can be called after the gift bag is successfully redeemed, that is, when the onresult method callback code = 100, it can be processed。</code></li></ul> <h3 id="_2-5-gift-without-ui"><a href="#_2-5-gift-without-ui" class="header-anchor">#</a> 2.5 Gift(Without UI)</h3> <p>Description：
SDK Gift code function call (Without UI, developers can customize the UI)</p> <p>Api one:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HykbAuxSDK.checkGiftCode(String device, String code, HykbAuxGiftListener listener)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">device</td> <td style="text-align:center;">Equipment number or specific unique identifier</td></tr> <tr><td style="text-align:center;">code</td> <td style="text-align:center;">gift code</td></tr> <tr><td style="text-align:center;">listener</td> <td style="text-align:center;">HykbAuxCodeListener for call back</td></tr></tbody></table> <p>Api two：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//Get gift code UI Text
HykbGiftUiInfo giftUiInfo = HykbAuxSDK.getGiftUiInfo()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Sample:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>String device = deviceEdit.getText().toString();
CustomGiftUI giftUI = new CustomGiftUI();
giftUI.init(device,MainActivity.this, HykbAuxSDK.getGiftUiInfo());
giftUI.show();

//CustomGiftUI Code:
public class CustomGiftUI {

    private AlertDialog giftDialog;

    public void init(String device, Context context, HykbGiftUiInfo giftUiInfo) {

        if(giftUiInfo == null) {
            showToast(context, &quot;gift bag feature is not open&quot;);
            return;
        }

        //新建一个view
        View customView = View.inflate(context,R.layout.dialog_custom_gift,null);
        //获取view的内容
        final EditText codeEdit = customView.findViewById(R.id.hykb_edit_code);
        final TextView titleTv = customView.findViewById(R.id.hykb_tv_title);
        final TextView linkTv = customView.findViewById(R.id.hykb_tv_link);
        final TextView submitBtn = customView.findViewById(R.id.hykb_btn_submit);

        titleTv.setText(giftUiInfo.getGiftTitle());
        if(giftUiInfo.getGiftLinkStatus() == 1) {
            linkTv.setVisibility(View.VISIBLE);
            linkTv.setText(giftUiInfo.getGiftLinkTitle());
            linkTv.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    if(!TextUtils.isEmpty(giftUiInfo.getGiftKbLink())) {
                        try{
                            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(giftUiInfo.getGiftKbLink()));
                            context.startActivity(intent);
                        } catch (Exception e) {
                            openWeb(context, giftUiInfo);
                        }
                    }else {
                        openWeb(context, giftUiInfo);
                    }
                }
            });
        }else {
            linkTv.setVisibility(View.INVISIBLE);
        }

        submitBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String code = codeEdit.getText().toString();
                if(TextUtils.isEmpty(code)) {
                    showToast(context, &quot;gift code must be not empty&quot;);
                    return;
                }
                HykbAuxSDK.checkGiftCode(device, code, new HykbAuxGiftListener() {
                    @Override
                    public void onResult(int code, String msg, String codeName) {
                        if(code == 100) {
                            //exchanged successful
                            showToast(context, &quot;gift bag name：&quot;+codeName);
                            dismiss();
                        }else {
                            showToast(context, msg);
                        }

                    }
                });
            }
        });

        giftDialog = new AlertDialog.Builder(context)
                .setView(customView)
                .create();

        giftDialog.getWindow().setBackgroundDrawableResource(R.drawable.bg_custom_gift);
    }

    private void openWeb(Context context,HykbGiftUiInfo giftUiInfo) {
        String url = HykbConstant.HYKB_STRING_DEFAULT_LINK;
        boolean condition = !TextUtils.isEmpty(giftUiInfo.getGiftLink())
                &amp;&amp; (giftUiInfo.getGiftLink().startsWith(&quot;http://&quot;)
                || giftUiInfo.getGiftLink().startsWith(&quot;https://&quot;));
        if(condition) {
            url = giftUiInfo.getGiftLink();
        }
        Intent intent = new Intent();
        intent.setAction(&quot;android.intent.action.VIEW&quot;);
        Uri uri = Uri.parse(url);
        intent.setData(uri);
        context.startActivity(intent);
    }

    public void show() {
        if(giftDialog != null) {
            giftDialog.show();
        }
    }

    public void dismiss() {
        if(giftDialog != null) {
            giftDialog.dismiss();
        }
    }

    protected void showToast(Context context, String text) {
        Toast.makeText(context.getApplicationContext(), text, Toast.LENGTH_SHORT).show();
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br></div></div><p>The listening class description is the same as above
Entity class description：<code>com.m3839.sdk.auxs.data.HykbGiftUiInfo</code></p> <table><thead><tr><th style="text-align:center;">Method</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">getGiftTitle()</td> <td style="text-align:center;">Get gift code UI title</td></tr> <tr><td style="text-align:center;">getGiftLink()</td> <td style="text-align:center;">Get gift code UI jump link</td></tr> <tr><td style="text-align:center;">getGiftKbLink()</td> <td style="text-align:center;">Get gift code UI jump Hykb app link</td></tr> <tr><td style="text-align:center;">getGiftLinkTitle()</td> <td style="text-align:center;">Get gift code UI jump link Text</td></tr> <tr><td style="text-align:center;">getGiftLinkStatus()</td> <td style="text-align:center;">Get gift code UI jump link status，1:show，0:hide</td></tr></tbody></table> <h3 id="_2-6-open-game-bbs"><a href="#_2-6-open-game-bbs" class="header-anchor">#</a> 2.6 Open game bbs</h3> <p>Description：
The SDK provides that open the hykb app page</p> <p>Api:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HykbAuxSDK.openPageDetail(int biz);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Parameter Description：</p> <table><thead><tr><th style="text-align:center;">Parameter</th> <th style="text-align:center;">Description：</th></tr></thead> <tbody><tr><td style="text-align:center;">biz</td> <td style="text-align:center;">biz code：1-5，Values can be transferred according to the configuration of operators</td></tr></tbody></table> <h3 id="_2-7-description-code"><a href="#_2-7-description-code" class="header-anchor">#</a> 2.7 Description code：</h3> <table><thead><tr><th style="text-align:center;">Code</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">2</td> <td style="text-align:center;">Indicates that initialization is not complete</td></tr> <tr><td style="text-align:center;">100</td> <td style="text-align:center;">Indicates that the activation code is verified successfully or the gift code is exchanged successfully. The CodeName is the name of the gift</td></tr> <tr><td style="text-align:center;">101</td> <td style="text-align:center;">The request has expired. Please try to calibrate your phone time</td></tr> <tr><td style="text-align:center;">102</td> <td style="text-align:center;">token error，please retry</td></tr> <tr><td style="text-align:center;">103</td> <td style="text-align:center;">Incorrect format of gift code or activation code</td></tr> <tr><td style="text-align:center;">104</td> <td style="text-align:center;">The gift code or activation code does not exist or is of the wrong type</td></tr> <tr><td style="text-align:center;">105</td> <td style="text-align:center;">Gift  code  function or Activation code function in maintenance</td></tr> <tr><td style="text-align:center;">106</td> <td style="text-align:center;">The gift code function or activation code function has not been opened</td></tr> <tr><td style="text-align:center;">107</td> <td style="text-align:center;">The gift code or activation code has expired</td></tr> <tr><td style="text-align:center;">108</td> <td style="text-align:center;">Gift code or Activation code has been used</td></tr> <tr><td style="text-align:center;">109</td> <td style="text-align:center;">The server happend error, please try again!</td></tr> <tr><td style="text-align:center;">110</td> <td style="text-align:center;">Illegal request</td></tr> <tr><td style="text-align:center;">111</td> <td style="text-align:center;">Activation code or Gift code cannot be empty</td></tr> <tr><td style="text-align:center;">112</td> <td style="text-align:center;">Activation code or Gift code is error</td></tr> <tr><td style="text-align:center;">114</td> <td style="text-align:center;">Gift code or Activation code verification in progress, please wait</td></tr> <tr><td style="text-align:center;">115</td> <td style="text-align:center;">Gift code or Activation code does not exist</td></tr> <tr><td style="text-align:center;">116</td> <td style="text-align:center;">The device number is empty or incorrectly formatted</td></tr> <tr><td style="text-align:center;">1001</td> <td style="text-align:center;">Activation code feature closed callback notification</td></tr> <tr><td style="text-align:center;">1002</td> <td style="text-align:center;">Gift code feature closed callback notification</td></tr> <tr><td style="text-align:center;">2002</td> <td style="text-align:center;">Update dialog close callback notification</td></tr> <tr><td style="text-align:center;">3002</td> <td style="text-align:center;">check dialog popup callback notification</td></tr> <tr><td style="text-align:center;">10000</td> <td style="text-align:center;">Initialization finish callback notification</td></tr></tbody></table> <p><code>Note</code>：The code callbacks from 101 to 116 in code are applicable to the scenario of user-defined activation code or gift bag code UI.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.382c28ba.js" defer></script><script src="/assets/js/2.5c9681e2.js" defer></script><script src="/assets/js/28.2a22a3a9.js" defer></script>
  </body>
</html>
