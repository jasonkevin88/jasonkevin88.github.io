(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{413:function(t,e,s){"use strict";s.r(e);var n=s(56),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"好游快爆支付sdk-接入文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#好游快爆支付sdk-接入文档"}},[t._v("#")]),t._v(" 好游快爆支付SDK-接入文档")]),t._v(" "),s("center",[s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("版本")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("更新说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("日期")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("V1.1.0.0")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1.重构功能，api有变动请以最新文档重新接入"),s("br")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("2022-07-27")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("V1.0.6.0")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1.防沉迷功能优化"),s("br")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("2022-02-21")])])])])]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pay/pay_en.html"}},[t._v("English Document")])],1),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pay/user_access_token.html"}},[t._v("accessToken校验")])],1),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pay/pay_server.html"}},[t._v("服务端接入文档")])],1),t._v(" "),s("h2",{attrs:{id:"_1-sdk嵌入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-sdk嵌入"}},[t._v("#")]),t._v(" 1.  SDK嵌入")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("SDK")]),t._v("下载完，将"),s("code",[t._v("aar")]),t._v("的\n"),s("code",[t._v("common.aar")]),t._v(" "),s("code",[t._v("login.aar")]),t._v(" "),s("code",[t._v("anti.aar")]),t._v(" "),s("code",[t._v("pay.aar")]),t._v(" "),s("code",[t._v("alipaySdk.aar")]),t._v("\n类库导入游戏工程libs目录下")])]),t._v(" "),s("p",[s("code",[t._v("注意点")]),t._v("：有接入1.1.0.0之前版本请先删除"),s("code",[t._v("hykb_sdk.aar")]),t._v("和"),s("code",[t._v("alipaySdk.aar")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("在主工程的"),s("code",[t._v("build.gradle")]),t._v("文件下添加以下代码即可完成依赖，")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("android {\n    defaultConfig {\n       //方法数超过65536时，开启多dex的支持\n       multiDexEnabled true\n    }\n    \n    repositories {\n      flatDir {\n        dirs 'libs'\n    }\n  }\n}\n\ndependencies {\n    //引入SDK依赖\n    implementation(name:'common', ext:'aar')\n    implementation(name:'login', ext:'aar')\n    implementation(name:'anti', ext:'aar')\n    implementation(name:'pay', ext:'aar')\n    implementation(name:'alipaySdk', ext:'aar')\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("然后重新同步下gradle.")]),t._v(" "),s("h2",{attrs:{id:"_2-接入代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-接入代码"}},[t._v("#")]),t._v(" 2.  接入代码")]),t._v(" "),s("h3",{attrs:{id:"_2-1-sdk初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-sdk初始化"}},[t._v("#")]),t._v(" 2.1 SDK初始化")]),t._v(" "),s("p",[t._v("描述：")]),t._v(" "),s("p",[t._v("初始化接口必须在所有SDK的其他相关api调用之前进行调用。")]),t._v(" "),s("p",[t._v("接口方法:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//SDK初始化接口\nHykbLogin.initSdk(Activity activity, String gameId, int orientation,  HykbInitListener listener)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("参数定义：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("当前游戏的主Activity")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("gameId")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("快爆开发者前台创建游戏后，获得的游戏ID")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("orientation")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("游戏屏幕方向，整型，0:横屏，1:竖屏")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("HykbInitListener 初始化回调监听")])])])]),t._v(" "),s("p",[t._v("示例代码：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('/**\n* SDK初始化方法\n*/\nHykbLogin.initSdk(MainActivity.this, GAME_ID, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE,new HykbInitListener() {\n\n      @Override\n      public void onInitSuccess(final HykbUser user) {\n        if (user == null) {\n          ToastUtil.showToast(MainActivity.this, "初始化成功 user = null ");\n        } else {\n          ToastUtil.showToast(MainActivity.this, "初始化成功 user = " + user.toString());\n        }\n      }\n\n      @Override\n      public void onInitError(final int code, final String msg) {\n        HandlerUtils.runOnMainThread(new Runnable() {\n          @Override\n          public void run() {\n            if (1102 == code) {\n              //1102：表示维护中，的退出游戏按钮回调\n              MainActivity.this.finish();\n            } else if (2005 == code) {\n              //2005：表示需要游戏做退出操作\n              MainActivity.this.finish();\n            } else {\n              ToastUtil.showToast(MainActivity.this, msg);\n            }\n          }\n        });\n\n      }\n\n      @Override\n      public void onSwitchUser(boolean success, int code, HykbUser user) {\n\t    //这边的切换账号是来自，默认登录的切换账号的回调\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, "切换成功 user = " + user.toString());\n        } else {\n          ToastUtil.showToast(MainActivity.this, "账号未切换 ");\n        }\n      }\n    });\n\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br")])]),s("p",[t._v("类描述：")]),t._v(" "),s("p",[t._v("初始化监听类： "),s("code",[t._v("com.m3839.sdk.login.listener.HykbInitListener")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onInitSuccess(HykbUser user)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("初始化成功后回调方法，user不为空，表示账号在有效期内，自动登录")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onInitError(int code, String msg)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("初始化失败回调方法，包含了防沉迷提示退出游戏回调操作")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onSwitchUser(boolean success, int code, HykbUser user)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("在自动登录的情况下，进行账号切换的回调")])])])]),t._v(" "),s("p",[t._v("检查sdk是否初始化成功")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("boolean isInitOk = HykbLogin.isInitOk()\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-2-日志开关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-日志开关"}},[t._v("#")]),t._v(" 2.2 日志开关")]),t._v(" "),s("p",[t._v("方法:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("HykbLogin.setDebug(boolean debug);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("用来开启SDK的内部的相关日志输出")]),t._v(" "),s("h3",{attrs:{id:"_2-3-登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-登录"}},[t._v("#")]),t._v(" 2.3 登录")]),t._v(" "),s("p",[t._v("接口方法:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/**\n * 登录api的调用\n */\nHykbLogin.login(Activity activity, HykbLoginListener listener);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("参数定义：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("当前游戏主页面的Activity")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("HykbLoginListener 登录回调监听")])])])]),t._v(" "),s("p",[t._v("示例代码:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('    if (HykbLogin.getUser() != null) {\n      ToastUtil.showToast(MainActivity.this, "登录成功 user = " + HykbLogin.getUser().toString());\n      return;\n    }\n    HykbLogin.login(MainActivity.this, new HykbLoginListener() {\n      @Override\n      public void onLoginFinished(boolean success, int code, HykbUser user) {\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, "登录成功 user = " + user.toString());\n        } else if(code == 2005){\n           MainActivity.this.finish();\n        } else {\n          ToastUtil.showToast(MainActivity.this, "登录失败 code = " + code);\n        }\n      }\n    });\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("类描述：")]),t._v(" "),s("p",[t._v("登录监听类： "),s("code",[t._v("com.m3839.sdk.login.listener.HykbLoginListener")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onLoginFinished(boolean success, int code, HykbUser user)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("登录回调监听")])])])]),t._v(" "),s("p",[s("code",[t._v("注意点")]),t._v(": 在登录code=2003，考虑到内购SDK无“去认证”弹窗进行承载取消授权登录后续的逻辑，且以强杀游戏进程的方式进行处理，用户容易误以为是游戏闪退，取消授权登录的逻辑，仍以回调的方式给游戏方进行自主处理")]),t._v(" "),s("blockquote",[s("p",[t._v("内购SDK接入文档需新增这部分回调的说明\n游戏方需针对该回调弹出重新登录弹窗")]),t._v(" "),s("blockquote",[s("p",[t._v("参考弹窗文案：很抱歉，您还未登录，请您登录之后进行游戏\n参考弹窗按钮：立即登录          点击按钮重新唤起快爆登录授权页面")])])]),t._v(" "),s("h3",{attrs:{id:"_2-4-账号切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-账号切换"}},[t._v("#")]),t._v(" 2.4 账号切换")]),t._v(" "),s("p",[t._v("账号切换API:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("HykbLogin.switchAccount(MainActivity.this, HykbLoginListener listener);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("参数定义：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("当前游戏主页面的Activity")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("HykbLoginListener 登录回调监听")])])])]),t._v(" "),s("p",[t._v("示例代码:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('    if(HykbLogin.getUser() == null) {\n      ToastUtil.showToast(MainActivity.this, "请先登录");\n      return;\n    }\n\n    HykbLogin.switchAccount(MainActivity.this, new HykbLoginListener() {\n      @Override\n      public void onLoginFinished(boolean success, int code, HykbUser user) {\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, user.toString());\n        } else {\n          ToastUtil.showToast(MainActivity.this, "账号未切换");\n        }\n\n      }\n    });\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("类描述：")]),t._v(" "),s("p",[t._v("账号切换监听类： "),s("code",[t._v("com.m3839.sdk.login.listener.HykbLoginListener")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onLoginFinished(boolean success, int code, HykbUser user)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("切换账号回调监听")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-5-获取用户信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-获取用户信息"}},[t._v("#")]),t._v(" 2.5 获取用户信息")]),t._v(" "),s("p",[t._v("方法:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" HykbUser user = HykbLogin.getUser();\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("类描述：")]),t._v(" "),s("p",[t._v("用户数据实体类： "),s("code",[t._v("com.m3839.sdk.login.bean.HykbUser")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getUserId()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("获取用户uid")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getNick()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("获取用户昵称")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getType()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("获取登录方式")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getAccessToken()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用来校验登录授权过程真实性，accessToken有效期两小时。默认不开放，如需请找相关商务人员对接")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-6-注销"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-注销"}},[t._v("#")]),t._v(" 2.6 注销")]),t._v(" "),s("p",[t._v("方法:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("HykbLogin.logout(Activity activity);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("用来注销用户的登录信息")]),t._v(" "),s("h3",{attrs:{id:"_2-7-支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-支付"}},[t._v("#")]),t._v(" 2.7 支付")]),t._v(" "),s("p",[t._v("支付参数信息实体类：")]),t._v(" "),s("p",[t._v("用户数据实体类： "),s("code",[t._v("com.m3839.sdk.pay.bean.HykbPayInfo")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数信息")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("goodsName")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("商品信息")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("money")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("下单金额")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("server")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("分服标识")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("cpOrderId")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("游戏的订单编号")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ext")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("透传字段")])])])]),t._v(" "),s("p",[t._v("支付接口：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("HykbPay.pay(Activivty activity, HykbPayInfo payInfo, HykbPayListener listener);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("调用实例：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('    HykbPayInfo payInfo = new HykbPayInfo();\n    Random r = new Random();\n    payInfo.cpOrderId = "CXZ258654" + r.nextInt(1000);\n    payInfo.money = 10;\n    payInfo.goodsName = goodsName;\n    HykbPay.pay(MainActivity.this, payInfo, new HykbPayListener() {\n      @Override\n      public void onPayResult(int code, String message, HykbPayInfo hykbPayInfo) {\n        if (code == 9000) {\n          ToastUtil.showToast(MainActivity.this, "支付成功");\n        } else if(code == 2005){\n          MainActivity.this.finish();\n        } else {\n          ToastUtil.showToast(MainActivity.this, message);\n        }\n      }\n    });\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("类描述")]),t._v(" "),s("p",[t._v("支付监听类: "),s("code",[t._v("com.m3839.sdk.pay.listener.HykbPayListener")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("onPayResult(int code,String message, HykbPayInfo hykbPayInfo)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付回调返回")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-8-游戏退出sdk释放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-游戏退出sdk释放"}},[t._v("#")]),t._v(" 2.8 游戏退出SDK释放")]),t._v(" "),s("p",[t._v("方法: 在游戏退出的时候去调用")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" HykbPay.releaseSDK();\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-9-回调code的说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-回调code的说明"}},[t._v("#")]),t._v(" 2.9 回调code的说明：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("code")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("服务端请求异常")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("未进行初始化，调用了支付或者登录")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-3")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("未进行登录，调用了支付")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-4")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付参数商品名称空了")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-5")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付参数商品名称超过16个字符")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-6")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付参数商品金额必须要大于0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-7")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付参数商品金额最大不超过五万")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-8")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("cpOrderId不能为空")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-9")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("cpOrderId不能超过128位")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("1101")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("游戏不存在，未进行审核，联系运营人员处理")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("1102")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("游戏开发者需要，退出游戏操作或者注销账号")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2001")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用户认证失败")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2002")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("登录失败")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2003")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("取消登录")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2004")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("登录异常")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2005")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("游戏开发者需要，退出游戏操作或者注销账号")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2006")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("重新调用登录")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2101")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付未配置，联系运营人员处理")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2102")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("充值维护中")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2103")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("CP订单号错误")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2104")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("订单不存在")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2105")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("充值失败")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2160")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付成功，白名单的测试支付返回")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2161")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付失败，白名单的测试支付返回")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2199")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("未查询到订单状态")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("3001")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付弹窗关闭")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("3002")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付限额弹窗关闭")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("3004")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付重试弹窗关闭")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("4000")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("系统异常")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("4001")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("数据格式不正确")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("6001")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付取消")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("8000")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付结果确认中")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("9000")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("支付成功")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-10-代码混淆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-代码混淆"}},[t._v("#")]),t._v(" 2.10 代码混淆")]),t._v(" "),s("p",[t._v("如果您需要使用proguard混淆代码，需确保不要混淆SDK的代码。\n请在proguard.cfg文件(或其它混淆文件)尾部添加如下配置:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 不能混淆监听\n-keep class com.m3839.sdk.common.**{*;}\n-keep class com.m3839.sdk.anti.**{*;}\n-keep class com.m3839.sdk.user.**{*;}\n-keep class com.m3839.sdk.login.**{*;}\n-keep class com.m3839.sdk.pay.**{*;}\n-keep class com.alipay.sdk.app.PayTask{ public *;}\n-keep class org.json.alipay.** { *; }\n-keepclasseswithmembernames class com.m3839.sdk.common.js.JsInterface {\n    <methods>;\n}\n\n# Prevent R8 from leaving Data object members always null\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName <fields>;\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])])],1)}),[],!1,null,null,null);e.default=a.exports}}]);