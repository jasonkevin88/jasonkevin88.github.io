(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{414:function(t,e,a){"use strict";a.r(e);var n=a(56),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hykb-payment-sdk-usage-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hykb-payment-sdk-usage-documents"}},[t._v("#")]),t._v(" HYKB Payment SDK- Usage Documents")]),t._v(" "),a("center",[a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("version")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("change log")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("date")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.1.0.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1. Refactoring function. If the API changes, please re access it with the latest documents"),a("br")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-07-27")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.0.6.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.Compatibility optimization of anti addiction SDK function")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-02-21")])])])])]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/pay/pay_server_en.html"}},[t._v("Pay server documents")])],1),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/pay/user_access_token_en.html"}},[t._v("user verification authorization")])],1),t._v(" "),a("h2",{attrs:{id:"_1-import-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-import-sdk"}},[t._v("#")]),t._v(" 1. Import SDK")]),t._v(" "),a("h3",{attrs:{id:"_1-1-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-integration"}},[t._v("#")]),t._v(" 1.1 Integration")]),t._v(" "),a("ol",[a("li",[t._v("Download"),a("code",[t._v("SDK")]),t._v("first, then copy\n"),a("code",[t._v("common.aar")]),t._v(" "),a("code",[t._v("login.aar")]),t._v(" "),a("code",[t._v("anti.aar")]),t._v(" "),a("code",[t._v("pay.aar")]),t._v(" "),a("code",[t._v("alipaySdk.aar")]),t._v("\ninto your main module/libs.")])]),t._v(" "),a("p",[a("code",[t._v("Attention points")]),t._v("：If there is access to the version before 1.1.0.0, please delete it first"),a("code",[t._v("hykb_sdk.aar")]),t._v("and"),a("code",[t._v("alipaySdk.aar")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Edit your main module "),a("code",[t._v("build.gradle")]),t._v(" file，add the following code:")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("repositories {\n  flatDir {\n      dirs 'libs'\n  }\n}\ndependencies {\n  implementation(name:'common', ext:'aar')\n  implementation(name:'login', ext:'aar')\n  implementation(name:'anti', ext:'aar')\n  implementation(name:'pay', ext:'aar')\n  implementation(name:'alipaySdk', ext:'aar')\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("then sync gradle.")]),t._v(" "),a("h2",{attrs:{id:"_2-development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-development"}},[t._v("#")]),t._v(" 2. Development")]),t._v(" "),a("h3",{attrs:{id:"_2-1-sdk-initialization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-sdk-initialization"}},[t._v("#")]),t._v(" 2.1 SDK Initialization")]),t._v(" "),a("p",[t._v("Description：\nThe initialization Api must be called before all other SDK related API calls.")]),t._v(" "),a("p",[t._v("Api:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//SDK Initialization API\nHykbLogin.initSdk(Activity activity, String gameId, int orientation,  HykbInitListener listener)\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("Parameter decription：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Parameter")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Decription")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("current activity")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("gameId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The game ID obtained after the game is created by the front desk of the fast explosive developer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HykbInitListener: Initialization Callback")])])])]),t._v(" "),a("p",[t._v("Sample:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('/**\n* SDK Initialization\n*/\nHykbLogin.initSdk(MainActivity.this, GAME_ID, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE,new HykbInitListener() {\n\n      @Override\n      public void onInitSuccess(final HykbUser user) {\n        if (user == null) {\n          ToastUtil.showToast(MainActivity.this, "init success user = null ");\n        } else {\n          ToastUtil.showToast(MainActivity.this, "init success user = " + user.toString());\n        }\n      }\n\n      @Override\n      public void onInitError(final int code, final String msg) {\n        HandlerUtils.runOnMainThread(new Runnable() {\n          @Override\n          public void run() {\n            if (1102 == code) {\n              //1102：Indicates the callback of exit game button in maintenance\n              MainActivity.this.finish();\n            } else if (2005 == code) {\n              //2005：need exit game\n              MainActivity.this.finish();\n            } else {\n              ToastUtil.showToast(MainActivity.this, msg);\n            }\n          }\n        });\n\n      }\n\n      @Override\n      public void onSwitchUser(boolean success, int code, HykbUser user) {\n\t    //The switch account here comes from the callback of the switch account logged in by cache\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, "Account switch success user = " + user.toString());\n        } else {\n          ToastUtil.showToast(MainActivity.this, "Account not switched ");\n        }\n      }\n    });\n    \n\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br")])]),a("p",[t._v("Class decription：")]),t._v(" "),a("p",[t._v("Initialize listening class： "),a("code",[t._v("com.m3839.sdk.login.listener.HykbInitListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Decription")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onInitSuccess(HykbUser user)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("After the initialization is successful, call back the method. If the user is not empty, it means that the account is automatically logged")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onInitError(int code, String msg)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Initialization failure callback method, including anti addiction prompt exit game callback operation")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onSwitchUser(boolean success, int code, HykbUser user)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("In the case of automatic login, call back the account switch")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-2-log-switch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-log-switch"}},[t._v("#")]),t._v(" 2.2 Log Switch")]),t._v(" "),a("p",[t._v("Api:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbLogin.setDebug(boolean debug);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("It is used to open the internal related log output of SDK.")]),t._v(" "),a("h3",{attrs:{id:"_2-3-login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-login"}},[t._v("#")]),t._v(" 2.3 Login")]),t._v(" "),a("p",[t._v("Api:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/**\n * Login api call\n */\nHykbLogin.login(Activity activity, HykbLoginListener listener);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("Parameter Description：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Parameter")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("current activity")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HykbLoginListener:Login callback")])])])]),t._v(" "),a("p",[t._v("Sample:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('    if (HykbLogin.getUser() != null) {\n      ToastUtil.showToast(MainActivity.this, "Login success user = " + HykbLogin.getUser().toString());\n      return;\n    }\n    HykbLogin.login(MainActivity.this, new HykbLoginListener() {\n      @Override\n      public void onLoginFinished(boolean success, int code, HykbUser user) {\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, "Login success user = " + user.toString());\n        } else if(code == 2005){\n           MainActivity.this.finish();\n        } else {\n          ToastUtil.showToast(MainActivity.this, "Login failed code = " + code);\n        }\n      }\n    });\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("Class description：")]),t._v(" "),a("p",[t._v("Login listening class： "),a("code",[t._v("com.m3839.sdk.login.listener.HykbLoginListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onLoginFinished(boolean success, int code, HykbUser user)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Login Callback whatever success or failed")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-4-switch-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-switch-account"}},[t._v("#")]),t._v(" 2.4 Switch Account")]),t._v(" "),a("p",[t._v("API:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbLogin.switchAccount(MainActivity.this, HykbLoginListener listener);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Parameter Description：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Parameter")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("current activity")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HykbLoginListener: Login Callback")])])])]),t._v(" "),a("p",[t._v("Sample:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('    if(HykbLogin.getUser() == null) {\n      ToastUtil.showToast(MainActivity.this, "Login first");\n      return;\n    }\n\n    HykbLogin.switchAccount(MainActivity.this, new HykbLoginListener() {\n      @Override\n      public void onLoginFinished(boolean success, int code, HykbUser user) {\n        if (success) {\n          ToastUtil.showToast(MainActivity.this, user.toString());\n        } else {\n          ToastUtil.showToast(MainActivity.this, "Account not switched");\n        }\n\n      }\n    });\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("Class description：")]),t._v(" "),a("p",[t._v("Switch listening class： "),a("code",[t._v("com.m3839.sdk.login.listener.HykbLoginListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onLoginFinished(boolean success, int code, HykbUser user)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Switch Callback whatever success or failed")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-5-get-user-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-get-user-information"}},[t._v("#")]),t._v(" 2.5 Get user information")]),t._v(" "),a("p",[t._v("Api:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" HykbUser user = HykbLogin.getUser();\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Class Description：")]),t._v(" "),a("p",[t._v("Class HykbUser： "),a("code",[t._v("com.m3839.sdk.login.bean.HykbUser")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getUserId()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("get user id")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getNick()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("get user name")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getType()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("get login type")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getAccessToken()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("This field is used to verify the validity of login authorization,is valid for two hours")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-6-logout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-logout"}},[t._v("#")]),t._v(" 2.6 Logout")]),t._v(" "),a("p",[t._v("Api:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbLogin.logout(Activity activity);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Log out")]),t._v(" "),a("h3",{attrs:{id:"_2-7-do-pay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-do-pay"}},[t._v("#")]),t._v(" 2.7 Do Pay")]),t._v(" "),a("p",[t._v("Class HykbPayInfo： "),a("code",[t._v("com.m3839.sdk.pay.bean.HykbPayInfo")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Parameter")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("goodsName")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Product information")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("money")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Order amount")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("server")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("server flag")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("cpOrderId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The order number of the game")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ext")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Additional fields")])])])]),t._v(" "),a("p",[t._v("Api：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbPay.pay(Activivty activity, HykbPayInfo payInfo, HykbPayListener listener);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Sample:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('    HykbPayInfo payInfo = new HykbPayInfo();\n    Random r = new Random();\n    payInfo.cpOrderId = "CXZ258654" + r.nextInt(1000);\n    payInfo.money = 10;\n    payInfo.goodsName = goodsName;\n    HykbPay.pay(MainActivity.this, payInfo, new HykbPayListener() {\n      @Override\n      public void onPayResult(int code, String message, HykbPayInfo hykbPayInfo) {\n        if (code == 9000) {\n          ToastUtil.showToast(MainActivity.this, "Recharge success");\n        } else if(code == 2005){\n          MainActivity.this.finish();\n        } else {\n          ToastUtil.showToast(MainActivity.this, message);\n        }\n      }\n    });\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("Class Description")]),t._v(" "),a("p",[t._v("Pay listening class:"),a("code",[t._v("com.m3839.sdk.pay.listener.HykbPayListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onPayResult(int code,String message, HykbPayInfo hykbPayInfo)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Payment Callback")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-8-release-sdk-resource"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-release-sdk-resource"}},[t._v("#")]),t._v(" 2.8 Release SDK Resource")]),t._v(" "),a("p",[t._v("Call this API when exit game")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbPay.releaseSDK();\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-9-description-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-description-code"}},[t._v("#")]),t._v(" 2.9 Description code：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("code")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Server request exception")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Login call without initialization")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("payment call without initialization")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-4")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Product name must be not empty")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-5")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The length of product name must be not more then 16 characters")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-6")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Money must greater than zero")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-7")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The maximum amount is not more than 50000 yuan")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-8")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The cpOrderId must be not empty")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-9")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("The length of cpOrderId must be not more than 128")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1101")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Game not exist，or parameter not approved，please contact the operator for handling")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1102")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Game need: exit or logout")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("User authentication failed")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Login failed")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2003")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Cancel login")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Login exception")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2005")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Game need: exit or logout")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2006")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Developer do re-login")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2101")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Payment not configured，lease contact the operator for handling")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2102")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay maintenance")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2103")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("CP Order number error")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2104")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Order not exist")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2105")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay failed")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2160")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay success，white list test return")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2161")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay failed，white list test return")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2199")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Not found order")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay dialog close")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay limit dialog close")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay retry dialog close")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Server exception")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Data format error")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("6001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay Cancel")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("8000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay result confirming")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("9000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pay success")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-10-proguard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-proguard"}},[t._v("#")]),t._v(" 2.10 Proguard")]),t._v(" "),a("p",[t._v("If you are using Proguard, add the following rules to your ProGuard configuration file:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 不能混淆监听\n-keep class com.m3839.sdk.common.**{*;}\n-keep class com.m3839.sdk.anti.**{*;}\n-keep class com.m3839.sdk.user.**{*;}\n-keep class com.m3839.sdk.login.**{*;}\n-keep class com.m3839.sdk.pay.**{*;}\n-keep class com.alipay.sdk.app.PayTask{ public *;}\n-keep class org.json.alipay.** { *; }\n-keepclasseswithmembernames class com.m3839.sdk.common.js.JsInterface {\n    <methods>;\n}\n\n# Prevent R8 from leaving Data object members always null\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName <fields>;\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);