(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{405:function(t,e,a){"use strict";a.r(e);var n=a(56),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"好游快爆防沉迷sdk-接入文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好游快爆防沉迷sdk-接入文档"}},[t._v("#")]),t._v(" 好游快爆防沉迷SDK-接入文档")]),t._v(" "),a("center",[a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("版本")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("更新说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("日期")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.1.0.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.重构功能，api有变动请以最新文档重新接入"),a("br")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-07-29")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.0.6.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.防沉迷sdk内部功能优化")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-02-21")])])])])]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/anti/anti_en.html"}},[t._v("English Document")])],1),t._v(" "),a("h2",{attrs:{id:"_1-sdk接入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sdk接入"}},[t._v("#")]),t._v(" 1.  SDK接入")]),t._v(" "),a("h3",{attrs:{id:"_1-1-android-studio集成方式-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-android-studio集成方式-推荐"}},[t._v("#")]),t._v(" 1.1 Android Studio集成方式（推荐）")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("SDK")]),t._v("下载完，将"),a("code",[t._v("aar")]),t._v("的\n"),a("code",[t._v("common.aar")]),t._v(" "),a("code",[t._v("login.aar")]),t._v(" "),a("code",[t._v("anti.aar")]),t._v(" "),a("code",[t._v("single.aar")]),t._v("\n类库导入游戏工程libs目录下")])]),t._v(" "),a("p",[a("code",[t._v("注意点")]),t._v("：有接入1.1.0.0之前版本请先删除"),a("code",[t._v("m3839_fcm.aar")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在主工程的"),a("code",[t._v("build.gradle")]),t._v("文件下添加以下代码即可完成依赖，")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("repositories {\n   flatDir {\n      dirs 'libs'\n   }\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("然后引用aar文件")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    implementation(name:'common', ext:'aar')\n    implementation(name:'login', ext:'aar')\n    implementation(name:'anti', ext:'aar')\n    implementation(name:'single', ext:'aar')\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"_2-代码接入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-代码接入"}},[t._v("#")]),t._v(" 2. 代码接入")]),t._v(" "),a("h3",{attrs:{id:"_2-1-sdk初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-sdk初始化"}},[t._v("#")]),t._v(" 2.1 sdk初始化")]),t._v(" "),a("p",[t._v("描述：")]),t._v(" "),a("p",[t._v("SDK的初始化方法")]),t._v(" "),a("p",[t._v("接口方法:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UnionFcmSDK.initSDK(Activity activity, UnionFcmParam param, UnionFcmListener listener);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("参数定义：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("activity")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("游戏主界面的Activity")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("config")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UnionFcmParam 防沉迷的参数信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UnionFcmListener 检测回调监听")])])])]),t._v(" "),a("p",[t._v("示例代码：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    String gameId = gameIdEdit.getText().toString();\n    UnionFcmParam param = new UnionFcmParam.Builder()\n                .setGameId(gameId)\n                .setOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)\n                .build();\n    UnionFcmSDK.initSDK(this, param, new UnionFcmListener() {\n            @Override\n            public void onFcm(int code, String message) {\n                if(code == 100) {\n                    //表示登录成功，获取登录信息\n                    UnionFcmUser user = UnionFcmSDK.getUser();\n                    if(user != null) {\n                        Toast.makeText(SampleActivity.this, user.toString(), Toast.LENGTH_SHORT).show();\n                    }\n                }else if(2005 == code) {\n                    finish();\n                }else{\n                    Toast.makeText(SampleActivity.this, message, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[t._v("类描述：")]),t._v(" "),a("p",[t._v("防沉迷参数信息类："),a("code",[t._v("com.m3839.sdk.single.UnionFcmParam.Builder")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"right"}},[t._v("方法名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"right"}},[t._v("setGameId(String gameId)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("设置游戏ID，由快爆开发者平台上申请的参数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"right"}},[t._v("setOrientation(int orientation)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("设置游戏屏幕方向")])])])]),t._v(" "),a("p",[t._v("检测监听类： "),a("code",[t._v("com.m3839.sdk.single.UnionFcmListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onFcm(int code, String msg)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("检测成功后回调方法")])])])]),t._v(" "),a("p",[t._v("常见回调的code描述：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("code")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务端请求异常")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("100")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("表示登录成功，根据个code，去获取用户信息"),a("code",[t._v("UnionFcmSDK.getUser()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("青少年模式已关闭")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("青少年模式已开启")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1003")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("未设置找回密码联系方式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("青少年模式，“我知道了”的回调")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1101")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("游戏不存在，未进行审核，联系运营人员处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1102")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("游戏开发者需要，退出游戏操作或者注销账号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户认证失败")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("登录失败")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2003")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("取消登录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("登录异常")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2005")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("游戏开发者需要，退出游戏操作或者注销账号")])])])]),t._v(" "),a("p",[t._v("获取用户信息：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UnionFcmUser user = UnionFcmSDK.getUser()\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("类描述：")]),t._v(" "),a("p",[t._v("用户数据实体类： "),a("code",[t._v("com.m3839.sdk.single.UnionFcmUser")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getUserId()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取用户uid")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getNick()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取用户昵称")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getType()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取登录方式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("getAccessToken()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("这个字段用来登录授权的有效性校验，accessToken有效期两小时")])])])]),t._v(" "),a("p",[t._v("日志开关:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UnionFcmSDK.setDebug(true);//true：open log output\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("释放资源:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UnionFcmSDK.releaseSDK();\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-混淆规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-混淆规则"}},[t._v("#")]),t._v(" 3. 混淆规则")]),t._v(" "),a("p",[t._v("如果您需要使用proguard混淆代码，需确保不要混淆SDK的代码。\n请在proguard.cfg文件(或其它混淆文件)尾部添加如下配置:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-keep class com.m3839.sdk.common.**{*;}\n-keep class com.m3839.sdk.anti.**{*;}\n-keep class com.m3839.sdk.user.**{*;}\n-keep class com.m3839.sdk.login.**{*;}\n-keep class com.m3839.sdk.single.**{*;}\n-keepclasseswithmembernames class com.m3839.sdk.common.js.JsInterface {\n    <methods>;\n}\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);