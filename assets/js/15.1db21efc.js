(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{411:function(t,e,a){"use strict";a.r(e);var s=a(56),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"好游快爆付费下载sdk-接入文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好游快爆付费下载sdk-接入文档"}},[t._v("#")]),t._v(" 好游快爆付费下载SDK-接入文档")]),t._v(" "),a("center",[a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("版本")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("更新说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("日期")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.1.0.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.重构功能，api有变动请以最新文档重新接入"),a("br")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-07-29")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("V1.0.4.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.优化防沉迷功能"),a("br")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-02-21")])])])])]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/paid/paid_en.html"}},[t._v("English Document")])],1),t._v(" "),a("h2",{attrs:{id:"_1-sdk嵌入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sdk嵌入"}},[t._v("#")]),t._v(" 1.  SDK嵌入")]),t._v(" "),a("h3",{attrs:{id:"_1-1-android-studio集成方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-android-studio集成方式"}},[t._v("#")]),t._v(" 1.1 Android Studio集成方式")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("SDK")]),t._v("下载完，将"),a("code",[t._v("aar")]),t._v("的\n"),a("code",[t._v("common.aar")]),t._v(" "),a("code",[t._v("anti.aar")]),t._v(" "),a("code",[t._v("paid.aar")]),t._v("\n类库导入游戏工程libs目录下")])]),t._v(" "),a("p",[a("code",[t._v("注意点")]),t._v("：有接入1.1.0.0之前版本请先删除"),a("code",[t._v("m3839_paid_checker.aar")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在主工程的"),a("code",[t._v("build.gradle")]),t._v("文件下添加以下代码即可完成依赖，")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("android {\n    defaultConfig {\n       //方法数超过65536时，开启多dex的支持\n       multiDexEnabled true\n    }\n    \n    repositories {\n      flatDir {\n        dirs 'libs'\n    }\n  }\n}\n\ndependencies {\n    //引入SDK依赖\n    implementation(name:'common', ext:'aar')\n    implementation(name:'anti', ext:'aar')\n    implementation(name:'paid', ext:'aar')\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("然后重新同步下gradle.")]),t._v(" "),a("h2",{attrs:{id:"_2-接入代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-接入代码"}},[t._v("#")]),t._v(" 2.  接入代码")]),t._v(" "),a("h3",{attrs:{id:"_2-1-付费校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-付费校验"}},[t._v("#")]),t._v(" 2.1 付费校验")]),t._v(" "),a("p",[t._v("描述：")]),t._v(" "),a("p",[t._v("SDK的检测方法。")]),t._v(" "),a("p",[t._v("接口方法:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbPaidChecker.checkLicense(activity, appId, publicKey, listener);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("参数定义：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("context")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前应用的Activity")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("appId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("应用ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("publicKey")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("公钥")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listener")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HykbCheckListener 检测回调监听")])])])]),t._v(" "),a("p",[t._v("示例代码：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('String publicKey = "申请的公钥";\nString appId = "申请的appid";\nHykbPaidChecker.checkLicense(activity, appId, publicKey,\n        new HykbCheckListener() {\n        @Override\n        public void onAllowEnter() {\n          //通过验证，进入游戏\n        }\n\n        @Override\n        public void onReject(int code, String errorMsg) {\n          finish();\n        }\n     });\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[t._v("类描述：")]),t._v(" "),a("p",[t._v("检测监听类： "),a("code",[t._v("com.m3839.sdk.paid.HykbCheckListener")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("方法名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onAllowEnter()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("检测成功后回调方法")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("onReject(int code, String errorMsg)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("检测失败回调方法")])])])]),t._v(" "),a("p",[t._v("常见回调的code描述：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("code")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("20001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户手动关闭")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("20002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("没有安装快爆")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("20003")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("没有购买")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("20004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务端数据异常")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("401")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("参数不完整")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("403")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("token异常")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("防沉迷退出游戏")])])])]),t._v(" "),a("p",[t._v("资源释放：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HykbPaidChecker.release();\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-2-代码混淆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-代码混淆"}},[t._v("#")]),t._v(" 2.2 代码混淆")]),t._v(" "),a("p",[t._v("如果您需要使用proguard混淆代码，需确保不要混淆SDK的代码。\n请在proguard.cfg文件(或其它混淆文件)尾部添加如下配置:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-keep class com.m3839.sdk.common.**{*;}\n-keep class com.m3839.sdk.anti.**{*;}\n-keep class com.m3839.sdk.user.**{*;}\n-keep class com.m3839.sdk.paid.**{*;}\n-keepclasseswithmembernames class com.m3839.sdk.common.js.JsInterface {\n    <methods>;\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);